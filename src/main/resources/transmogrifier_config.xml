<?xml version="1.0"?>

<transmogrifierConfiguration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                     xsi:noNamespaceSchemaLocation="transmogrifier_config.xsd">

    <global/>

    <project name="Fly Light Flip - manual entry (FLFL*)" default="true">

        <inputFileSorter sortAlgorithm="Number"
                         patternString=".*_(L)(\d++)(\.lsm)"/>

        <outputDirectory basePath="/tmp"
                         derivedFromEarliestModifiedFile="true"/>

        <plugins>
            <rowUpdater className="org.janelia.it.ims.tmog.plugin.dataFile.DataResourcePlugin">
                <property name="plugin.service-url" value="http://informatics-prod.int.janelia.org/cgi-bin/flycore_responder.cgi?request=crossdatatmog;format=xml;cross_barcode=${Cross Serial Number}" />
                <property name="plugin.test-url" value="http://informatics-prod.int.janelia.org/cgi-bin/flycore_responder.cgi?request=crossdatatmog;format=xml;cross_barcode=51418" />
                <property name="plugin.root-xpath" value="projectCross" />
                <property name="GAL4 Line" value="parent1StockName" />
                <property name="Reporter" value="reporter" />
            </rowUpdater>
        </plugins>

        <dataFields>

            <separator value="FLFL_"/>
            <runTime datePattern="yyyyMMddHHmmssSSS" />
            <separator value=".lsm"/>

            <!--
             These values are collected for storage but are not
             included as components of the file name (markedForTask="false").
             -->

            <number displayName="Cross Serial Number"
                    minimumValue="1"
                    maximumValue="1000000"
                    markedForTask="false">
                <staticDefault value="51418"/>
            </number>

            <webServiceList displayName="GAL4 Line" required="true"
                            markedForTask="false"
                            valueCreationPath="$.line_data[*]"
                            relativeActualValuePath="name"
                            responseContentType="application/json"
                            serviceUrl="https://sage-responder.int.janelia.org/lines?_columns=name"
                            autoComplete="true">
            </webServiceList>

            <cvTermList displayName="Reporter" required="true"
                        autoComplete="true"
                        markedForTask="false"
                        displayNamePrefixedForValues="false"
                        serviceUrl="https://sage-responder.int.janelia.org/cvterms?_columns=cv_term,display_name&amp;cv=effector">
            </cvTermList>

            <cvTermList displayName="Age" required="true"
                        serviceUrl="https://sage-responder.int.janelia.org/cvterms?_columns=cv_term,display_name&amp;cv=age_remap"
                        displayNamePrefixedForValues="true"
                        autoComplete="true"
                        markedForTask="false">
            </cvTermList>

            <cvTermList displayName="Imager" required="true"
                        markedForTask="false"
                        autoComplete="true"
                        serviceUrl="https://sage-responder.int.janelia.org/cvterms?_columns=cv_term,display_name&amp;cv=imager">
            </cvTermList>

        </dataFields>

    </project>

</transmogrifierConfiguration>