<?xml version="1.0"?>

<transmogrifierConfiguration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                     xsi:noNamespaceSchemaLocation="transmogrifier_config.xsd">

    <global minimumVersion="2.7.5" frameSizePercentage="95"/>

    <project name="Rubin Lab 2: Split Collaboration Images (RL02_*)"
             taskName="rename-without-delete">

        <outputDirectory>
            <path path="[\\dm10.isln.janelia.org\rubinimg|/groups/rubin/rubinimg]\rubin_lab_2\confocalStacks\" />
            <renameFieldValue fieldDisplayName="Relative Path"/>
        </outputDirectory>

        <plugins>
            <rowListener className="org.janelia.it.ims.tmog.plugin.imagedb.ImageDataPlugin">
                <property name="db.config.key" value="sage"/>
                <property name="exclude.host.name" value="true"/>
                <property name="keep.existing.data" value="true"/>
                <property name="family" value="$STATIC:rubin_lab_2"/>
                <property name="lab" value="$STATIC:none"/>
                <property name="line" value="$STATIC:Not_Applicable"/>
                <property name="base_path" value="$STATIC:/groups/rubin/rubinimg/rubin_lab_2/confocalStacks/"/>
                <property name="base_url" value="$STATIC:http://img.int.janelia.org/rubin-split-image/rubin_lab_2-confocal-data/"/>
                <property name="public_line" value="Public Line"/>
                <property name="gender" value="Gender"/>
                <property name="area" value="Area"/>
                <property name="age" value="Age"/>
                <property name="l_number" value="L Number"/>
                <property name="cross_number" value="Cross Number"/>
                <property name="anatomical_region" value="Brain Region"/>
                <property name="mounting_protocol" value="Tissue Mounting Protocol"/>
                <property name="tissue_orientation" value="Tissue Orientation"/>
                <property name="dissection_date" value="${Dissection Date (yyyy-mm-dd)} 00:00:00"/>
                <property name="mount_date" value="${Mount Date (yyyy-mm-dd)} 00:00:00"/>
            </rowListener>

            <sessionListener className="org.janelia.it.ims.tmog.plugin.SessionSummaryFileWriter">
                <property name="directory" value="[\\dm10.isln.janelia.org\rubinimg|/groups/rubin/rubinimg]\tmog\summaries\rubin_lab_2"/>
            </sessionListener>

        </plugins>

        <dataFields>

            <separator value="RL02_"/>

            <text displayName="Public Line"
                  required="true"
                  pattern="[0-9A-Za-z]++">
                <sourceFileMappedDefault pattern="^(split_.*)_r.._.*">
                    <mappedValue from="split_10H10-p65ADZp-attP40_55A07-ZpGdbd-attP2" to="MB001B"/>
                    <mappedValue from="split_12C11-p65ADZp-attP40_14C08-ZpGdbd-attP2" to="MB002B"/>
                    <mappedValue from="split_13E04-p65ADZp-attP40_33E02-ZpGdbd-attP2" to="MB003B"/>
                    <mappedValue from="split_13F02-p65ADZp-attP40_26E07-ZpGdbd-attP2" to="MB004B"/>
                    <mappedValue from="split_13F02-p65ADZp-attP40_34A03-ZpGdbd-attP2" to="MB005B"/>
                    <mappedValue from="split_13F02-p65ADZp-attP40_34E04-ZpGdbd-attP2" to="MB006B"/>
                    <mappedValue from="split_13F02-p65ADZp-attP40_35B12-ZpGdbd-attP2" to="MB007B"/>
                    <mappedValue from="split_13F02-p65ADZp-attP40_44E04-ZpGdbd-attP2" to="MB008B"/>
                    <mappedValue from="split_13F02-p65ADZp-attP40_45H04-ZpGdbd-attP2" to="MB009B"/>
                    <mappedValue from="split_13F02-p65ADZp-attP40_52H09-ZpGdbd-attP2" to="MB010B"/>
                    <mappedValue from="split_14C08-p65ADZp-attP40_15B01-ZpGdbd-attP2" to="MB011B"/>
                    <mappedValue from="split_14E06-p65ADZp-attP40_22B12-ZpGdbd-attP2" to="MB012B"/>
                    <mappedValue from="split_14F05-p65ADZp-attP40_14B03-ZpGdbd-attP2" to="MB013B"/>
                    <mappedValue from="split_15B01-p65ADZp-attP40_22C12-ZpGdbd-attP2" to="MB014B"/>
                    <mappedValue from="split_15C12-p65ADZp-attP40_14B03-ZpGdbd-attP2" to="MB015B"/>
                    <mappedValue from="split_15E10-p65ADZp-attP40_15B01-ZpGdbd-attP2" to="MB016B"/>
                    <mappedValue from="split_19B03-p65ADZp-attP40_12F03-ZpGdbd-attP2" to="MB017B"/>
                    <mappedValue from="split_20G03-p65ADZp-attP40_19F09-ZpGdbd-attP2" to="MB018B"/>
                    <mappedValue from="split_20G03-p65ADZp-attP40_23C06-ZpGdbd-attP2" to="MB019B"/>
                    <mappedValue from="split_20G03-p65ADZp-attP40_40B08-ZpGdbd-attP2" to="MB020B"/>
                    <mappedValue from="split_24E06-p65ADZp-attP40_95A10-ZpGdbd-attP2" to="MB021B"/>
                    <mappedValue from="split_24E06-p65ADZp-attP40_TDC2-ZpGdbd-attP2" to="MB022B"/>
                    <mappedValue from="split_24E12-p65ADZp-attP40_11A03-ZpGdbd-attP2" to="MB023B"/>
                    <mappedValue from="split_24E12-p65ADZp-attP40_17C11-ZpGdbd-attP2" to="MB024B"/>
                    <mappedValue from="split_24E12-p65ADZp-attP40_52H01-ZpGdbd-attP2" to="MB025B"/>
                    <mappedValue from="split_24H08-p65ADZp-attP40_11F03-ZpGdbd-attP2" to="MB026B"/>
                    <mappedValue from="split_24H08-p65ADZp-attP40_53F03-ZpGdbd-attP2" to="MB027B"/>
                    <mappedValue from="split_26E07-p65ADZp-attP40_16H11-ZpGdbd-attP2" to="MB028B"/>
                    <mappedValue from="split_30G08-p65ADZp-attP40_11A03-ZpGdbd-attP2" to="MB029B"/>
                    <mappedValue from="split_30G08-p65ADZp-attP40_29G04-ZpGdbd-attP2" to="MB030B"/>
                    <mappedValue from="split_30G08-p65ADZp-attP40_80G12-ZpGdbd-attP2" to="MB031B"/>
                    <mappedValue from="split_30G08-p65ADZp-attP40_TH-ZpGdbd-attP2" to="MB032B"/>
                    <mappedValue from="split_33D07-p65ADZp-attP40_10F07-ZpGdbd-attP2" to="MB033B"/>
                    <mappedValue from="split_33E02-p65ADZp-attP40_10F07-ZpGdbd-attP2" to="MB034B"/>
                    <mappedValue from="split_33E02-p65ADZp-attP40_50A05-ZpGdbd-attP2" to="MB035B"/>
                    <mappedValue from="split_38D01-p65ADZp-attP40_77F05-ZpGdbd-attP2" to="MB036B"/>
                    <mappedValue from="split_40B08-p65ADZp-attP40_19F09-ZpGdbd-attP2" to="MB037B"/>
                    <mappedValue from="split_52H09-p65ADZp-attP40_26E07-ZpGdbd-attP2" to="MB038B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_10G03-ZpGdbd-attP2" to="MB039B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_18D09-ZpGdbd-attP2" to="MB040B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_18H09-ZpGdbd-attP2" to="MB041B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_22E04-ZpGdbd-attP2" to="MB042B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_32D11-ZpGdbd-attP2" to="MB043B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_48H11-ZpGdbd-attP2" to="MB044B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_87B09-ZpGdbd-attP2" to="MB045B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_89B01-ZpGdbd-attP2" to="MB046B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_93A09-ZpGdbd-attP2" to="MB047B"/>
                    <mappedValue from="split_59F08-p65ADZp-attP40_14E09-ZpGdbd-attP2" to="MB048B"/>
                    <mappedValue from="split_60H12-p65ADZp-attP40_14E09-ZpGdbd-attP2" to="MB049B"/>
                    <mappedValue from="split_65B09-p65ADZp-attP40_11F03-ZpGdbd-attP2" to="MB050B"/>
                    <mappedValue from="split_70B10-p65ADZp-attP40_19F09-ZpGdbd-attP2" to="MB051B"/>
                    <mappedValue from="split_71D08-p65ADZp-attP40_11F03-ZpGdbd-attP2" to="MB052B"/>
                    <mappedValue from="split_71D08-p65ADZp-attP40_53F03-ZpGdbd-attP2" to="MB053B"/>
                    <mappedValue from="split_76F05-p65ADZp-attP40_15B01-ZpGdbd-attP2" to="MB054B"/>
                    <mappedValue from="split_76F05-p65ADZp-attP40_52H01-ZpGdbd-attP2" to="MB055B"/>
                    <mappedValue from="split_76F05-p65ADZp-attP40_80G12-ZpGdbd-attP2" to="MB056B"/>
                    <mappedValue from="split_80G12-p65ADZp-attP40_53H03-ZpGdbd-attP2" to="MB057B"/>
                    <mappedValue from="split_82C10-p65ADZp-attP40_50B03-ZpGdbd-attP2" to="MB058B"/>
                    <mappedValue from="split_82C10-p65ADZp-attP40_55A07-ZpGdbd-attP2" to="MB059B"/>
                    <mappedValue from="split_82C10-p65ADZp-attP40_72B05-ZpGdbd-attP2" to="MB060B"/>
                    <mappedValue from="split_82C10-p65ADZp-attP40_73F07-ZpGdbd-attP2" to="MB061B"/>
                    <mappedValue from="split_92E10-p65ADZp-attP40_71D08-ZpGdbd-attP2" to="MB062B"/>
                    <mappedValue from="split_93D10-p65ADZp-attP40_68C09-ZpGdbd-attP2" to="MB063B"/>
                    <mappedValue from="split_Ddc-p65ADZp-attP40_48H11-ZpGdbd-attP2" to="MB064B"/>
                    <mappedValue from="split_TH-p65ADZp-attP40_72B05-ZpGdbd-attP2" to="MB065B"/>
                    <mappedValue from="split_TH-p65ADZp-attP40_73F07-ZpGdbd-attP2" to="MB066B"/>
                    <mappedValue from="split_14C08-p65ADZp-su(Hw)attP8_15B01-ZpGdbd-attP2" to="MB067A"/>
                    <mappedValue from="split_30H02-p65ADZp-su(Hw)attP8_94B10-ZpGdbd-attP2" to="MB068A"/>
                    <mappedValue from="split_73H08-p65ADZp-su(Hw)attP8_19F09-ZpGdbd-attP2" to="MB069A"/>
                    <mappedValue from="split_73H08-p65ADZp-su(Hw)attP8_20G04-ZpGdbd-attP2" to="MB070A"/>
                    <mappedValue from="split_TDC2-p65ADZp-su(Hw)attP8_95A10-ZpGdbd-attP2" to="MB071A"/>
                    <mappedValue from="split_20A02-p65ADZp-VK00027_67F03-ZpGdbd-attP2" to="MB072C"/>
                    <mappedValue from="split_20A02-p65ADZp-VK00027_93B07-ZpGdbd-attP2" to="MB073C"/>
                    <mappedValue from="split_21D02-p65ADZp-VK00027_12C11-ZpGdbd-attP2" to="MB074C"/>
                    <mappedValue from="split_21D02-p65ADZp-VK00027_14C08-ZpGdbd-attP2" to="MB075C"/>
                    <mappedValue from="split_21D02-p65ADZp-VK00027_27G01-ZpGdbd-attP2" to="MB076C"/>
                    <mappedValue from="split_25D01-p65ADZp-VK00027_19F09-ZpGdbd-attP2" to="MB077C"/>
                    <mappedValue from="split_30C01-p65ADZp-VK00027_53H03-ZpGdbd-attP2" to="MB078C"/>
                    <mappedValue from="split_30C01-p65ADZp-VK00027_80G12-ZpGdbd-attP2" to="MB079C"/>
                    <mappedValue from="split_33E02-p65ADZp-VK00027_50A05-ZpGdbd-attP2" to="MB080C"/>
                    <mappedValue from="split_40B08-p65ADZp-VK00027_20G04-ZpGdbd-attP2" to="MB081C"/>
                    <mappedValue from="split_40B08-p65ADZp-VK00027_23C06-ZpGdbd-attP2" to="MB082C"/>
                    <mappedValue from="split_52G04-p65ADZp-VK00027_94B10-ZpGdbd-attP2" to="MB083C"/>
                    <mappedValue from="split_52H01-p65ADZp-VK00027_11A03-ZpGdbd-attP2" to="MB084C"/>
                    <mappedValue from="split_52H01-p65ADZp-VK00027_52B07-ZpGdbd-attP2" to="MB085C"/>
                    <mappedValue from="split_61H03-p65ADZp-VK00027_24C05-ZpGdbd-attP2" to="MB086C"/>
                    <mappedValue from="split_61H03-p65ADZp-VK00027_28E09-ZpGdbd-attP2" to="MB087C"/>
                    <mappedValue from="split_70B10-p65ADZp-VK00027_19F09-ZpGdbd-attP2" to="MB088C"/>
                    <mappedValue from="split_71D08-p65ADZp-VK00027_24H08-ZpGdbd-attP2" to="MB089C"/>
                    <mappedValue from="split_73H08-p65ADZp-VK00027_19F09-ZpGdbd-attP2" to="MB090C"/>
                    <mappedValue from="split_73H08-p65ADZp-VK00027_20G04-ZpGdbd-attP2" to="MB091C"/>
                    <mappedValue from="split_73H08-p65ADZp-VK00027_23C06-ZpGdbd-attP2" to="MB092C"/>
                    <mappedValue from="split_73H08-p65ADZp-VK00027_40B08-ZpGdbd-attP2" to="MB093C"/>
                    <mappedValue from="split_73H08-p65ADZp-VK00027_67F03-ZpGdbd-attP2" to="MB094C"/>
                    <mappedValue from="split_80E06-p65ADZp-VK00027_94B10-ZpGdbd-attP2" to="MB095C"/>
                    <mappedValue from="split_93D10-p65ADZp-VK00027_52B07-ZpGdbd-attP2" to="MB096C"/>
                    <mappedValue from="split_DDC-p65ADZp-VK00027_28E09-ZpGdbd-attP2" to="MB097C"/>
                    <mappedValue from="split_Ddc-p65ADZp-VK00027_48H11-ZpGdbd-attP2" to="MB098C"/>
                    <mappedValue from="split_TH-p65ADZp-VK00027_73F07-ZpGdbd-attP2" to="MB099C"/>
                    <mappedValue from="split_26E07-p65ADZp-attP40_18F09-ZpGdbd-attP2" to="MB100B"/>
                    <mappedValue from="split_58E02-p65ADZp-attP40_93G08-ZpGdbd-attP2" to="MB101B"/>
                    <mappedValue from="split_76F05-p65ADZp-attP40_89B01-ZpGdbd-attP2" to="MB102B"/>
                    <mappedValue from="split_76F05-p65ADZp-attP40_93G08-ZpGdbd-attP2" to="MB103B"/>
                    <mappedValue from="split_33E02-p65ADZp-su(Hw)attP8_10F07-ZpGdbd-attP2" to="MB104A"/>
                    <mappedValue from="split_61H03-p65ADZp-VK00027_93A09-ZpGdbd-attP2" to="MB105C"/>
                    <mappedValue from="split_Ddc-p65ADZp-VK00027_23C12-ZpGdbd-attP2" to="MB106C"/>
                </sourceFileMappedDefault>
            </text>

            <fileName displayName="File ID"
                      patternString=".*(_r.._....._..._\d{17})\.lsm$"
                      patternGroupNumber="1"
                      visible="true" />

            <separator value=".lsm"/>

            <!--
             These values are collected for the SAGE database but are not
             included as components of the file name (markedForTask="false").
             -->

            <validValueList displayName="Gender"
                            required="true"
                            copyable="false"
                            markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="gender"/>
                </pluginDefault>
                <validValue value="Female"/>
                <validValue value="Male"/>
                <validValue value="unknown"/>
            </validValueList>

            <cvTermList displayName="Age"
                        required="true"
                        copyable="false"
                        serviceUrl="http://sage.int.janelia.org/sage-ws/cvs/age_remap"
                        displayNamePrefixedForValues="false"
                        markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="age"/>
                </pluginDefault>
            </cvTermList>

            <validValueList displayName="Area"
                            required="true"
                            copyable="false"
                            markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="area"/>
                </pluginDefault>
                <validValue value="Brain"/>
                <validValue value="Ventral Nerve Cord"/>
            </validValueList>

            <number displayName="L Number"
                    required="true"
                    copyable="false"
                    minimumValue="1" maximumValue="99"
                    padFormat="20"
                    markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="l_number"/>
                </pluginDefault>
            </number>

            <validValueList displayName="Tissue Mounting Protocol"
                            required="true"
                            copyable="false"
                            markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="mounting_protocol"/>
                </pluginDefault>
                <validValue value="Glycerol-Based Mounting"/>
                <validValue value="DPX Mounting"/>
            </validValueList>

            <cvTermList displayName="Tissue Orientation"
                        required="true"
                        copyable="false"
                        markedForTask="false"
                        serviceUrl="http://sage.int.janelia.org/sage-ws/cvs/tissue_orientation"
                        displayNamePrefixedForValues="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="tissue_orientation"/>
                </pluginDefault>
            </cvTermList>

            <text displayName="Cross Number"
                  required="true"
                  copyable="false"
                  markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="cross_number"/>
                </pluginDefault>
            </text>

            <validValueList displayName="Brain Region"
                            required="true"
                            copyable="false"
                            markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="anatomical_region"/>
                </pluginDefault>
                <validValue value="mushroom body"/>
                <validValue value="central complex"/>
                <validValue value="optic lobe"/>
                <validValue value="vlpr"/>
            </validValueList>

            <date displayName="Dissection Date (yyyy-mm-dd)"
                  required="false"
                  copyable="false"
                  datePattern="yyyy-MM-dd"
                  markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="dissection_date"/>
                </pluginDefault>
            </date>

            <date displayName="Mount Date (yyyy-mm-dd)"
                  required="false"
                  copyable="false"
                  datePattern="yyyy-MM-dd"
                  markedForTask="false">
                <pluginDefault className="org.janelia.it.ims.tmog.plugin.imagedb.SageImageDataDefaultValue">
                    <property name="family" value="rubin_rd_split"/>
                    <property name="image_property" value="mount_date"/>
                </pluginDefault>
            </date>

            <text displayName="Relative Path"
                  required="true"
                  copyable="false"
                  markedForTask="false">
                <sourceFileDefault matchType="path"
                                   pattern=".*?([^/\\\\]+)[/\\\\][^/\\\\]+.lsm$" />
            </text>

        </dataFields>

    </project>

</transmogrifierConfiguration>