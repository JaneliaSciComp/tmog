<?xml version="1.0"?>

<transmogrifierConfiguration xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                     xsi:noNamespaceSchemaLocation="transmogrifier_config.xsd">

    <project name="Kerr Lab: Multi-Worm Tracker" taskName="collector">

        <inputFileFilter excludeQueryUrl="http://localhost:8080/wormTracker/experiment" />
        
        <plugins>
            <rowListener className="org.janelia.it.ims.tmog.plugin.RestDataPlugin">
                <property name="dataServerUrl" value="http://localhost:8080/wormTracker/experiment"/>
                <property name="resourceField" value="Experiment Timestamp"/>
            </rowListener>
        </plugins>

        <dataFields>
            <text displayName="Worm Strain" required="true" pattern="[0-9A-Za-z\s]++"/>
            <text displayName="RNAI" required="true" pattern="[0-9A-Za-z\s]++"/>
            <validValueList displayName="Stimulus Protocol" required="true">
                <validValue displayName="A: Protocol A" value="A"/>
                <validValue displayName="B: Protocol B" value="B"/>
            </validValueList>
            <text displayName="Path" required="true" copyable="false">
                <sourceFileDefault pattern=".*[/\\\\]([^/\\\\]++)[/\\\\]\d\d\d\d\d\d\d\d_\d\d\d\d\d\d"
                                   matchType="path"/>
            </text>
            <date displayName="Experiment Timestamp" required="true"
                  datePattern="yyyyMMdd_HHmmss" copyable="false">
                <sourceFileDateDefault pattern="(\d\d\d\d\d\d\d\d_\d\d\d\d\d\d){1}"
                                       fromDatePattern="yyyyMMdd_HHmmss"
                                       toDatePattern="yyyyMMdd_HHmmss"
                                       matchType="name"/>
            </date>
            <text displayName="Tracker Tag" required="true" pattern="[0-9A-Za-z\s]++"/>
            <text displayName="Notes" required="false" />
        </dataFields>

    </project>

</transmogrifierConfiguration>